{% extends "base.html" %} {% block content %}
<h1>🚨 Admin Alert - {{ project_name }}</h1>

<div class="info-box info-box-error">
  <h2 style="margin-top: 0; font-size: 20px; color: #991b1b;">
    ⚠️ {{ action }}
  </h2>
  <p style="margin-bottom: 0; color: #7f1d1d;">
    An automated system alert requires your immediate attention. Please review the details below and take appropriate action.
  </p>
</div>

<h2>🔍 Alert Details</h2>
<div class="info-box">
  <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%">
    {% for key, value in details.items() %}
    <tr>
      <td style="padding: 8px 0; border-bottom: 1px solid #e2e8f0; vertical-align: top; width: 30%;">
        <strong style="color: #334155;">{{ key|title }}:</strong>
      </td>
      <td style="padding: 8px 0; border-bottom: 1px solid #e2e8f0; word-break: break-word;">
        <code style="background: #f1f5f9; padding: 2px 6px; border-radius: 4px; font-family: monospace; font-size: 14px;">{{ value }}</code>
      </td>
    </tr>
    {% endfor %}
  </table>
</div>

<div class="info-box info-box-warning">
  <h3 style="margin-top: 0;">⏰ Immediate Action Required</h3>
  <p style="margin-bottom: 0;">
    This alert was generated by the system monitoring service and may indicate a critical issue that requires immediate administrative attention.
  </p>
</div>

<div class="cta-container">
  <a href="{{ admin_url }}" class="btn btn-primary" target="_blank" rel="noopener noreferrer">
    🔧 Open Admin Panel
  </a>
</div>

<hr class="divider">

<h2>📋 Recommended Actions</h2>
<div style="margin: 24px 0;">
  <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%">
    <tr>
      <td style="padding: 12px; background: #f8fafc; border-radius: 8px; margin-bottom: 12px; border: 1px solid #e2e8f0;">
        <div style="display: flex; align-items: flex-start;">
          <span style="font-size: 20px; margin-right: 12px;">🔍</span>
          <div>
            <h4 style="margin: 0 0 8px 0; color: #1e293b; font-size: 16px;">Investigate the Issue</h4>
            <p style="margin: 0; color: #64748b; font-size: 14px;">Review the alert details and check system logs for more context.</p>
          </div>
        </div>
      </td>
    </tr>
    <tr>
      <td style="padding: 12px; background: #f8fafc; border-radius: 8px; margin-bottom: 12px; border: 1px solid #e2e8f0;">
        <div style="display: flex; align-items: flex-start;">
          <span style="font-size: 20px; margin-right: 12px;">⚡</span>
          <div>
            <h4 style="margin: 0 0 8px 0; color: #1e293b; font-size: 16px;">Take Corrective Action</h4>
            <p style="margin: 0; color: #64748b; font-size: 14px;">Apply necessary fixes or escalate to the appropriate team members.</p>
          </div>
        </div>
      </td>
    </tr>
    <tr>
      <td style="padding: 12px; background: #f8fafc; border-radius: 8px; margin-bottom: 12px; border: 1px solid #e2e8f0;">
        <div style="display: flex; align-items: flex-start;">
          <span style="font-size: 20px; margin-right: 12px;">✅</span>
          <div>
            <h4 style="margin: 0 0 8px 0; color: #1e293b; font-size: 16px;">Verify Resolution</h4>
            <p style="margin: 0; color: #64748b; font-size: 14px;">Confirm the issue is resolved and systems are operating normally.</p>
          </div>
        </div>
      </td>
    </tr>
  </table>
</div>

<hr class="divider">

<h2>📊 System Status</h2>
<div class="info-box">
  <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%">
    <tr>
      <td style="padding: 8px 0;">
        <strong style="color: #334155;">Alert Priority:</strong>
      </td>
      <td style="padding: 8px 0; text-align: right;">
        <span style="background: #dc2626; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600; text-transform: uppercase;">High</span>
      </td>
    </tr>
    <tr>
      <td style="padding: 8px 0;">
        <strong style="color: #334155;">Alert Source:</strong>
      </td>
      <td style="padding: 8px 0; text-align: right;">
        System Monitor
      </td>
    </tr>
    <tr>
      <td style="padding: 8px 0;">
        <strong style="color: #334155;">Generated At:</strong>
      </td>
      <td style="padding: 8px 0; text-align: right;">
        <code style="font-family: monospace; font-size: 13px;">{{ timestamp | default('Just now') }}</code>
      </td>
    </tr>
  </table>
</div>

<div class="info-box info-box-info">
  <h3 style="margin-top: 0;">📞 Need Support?</h3>
  <p style="margin-bottom: 0;">
    If you need assistance resolving this alert, contact the technical support team immediately. 
    Include the alert details and any relevant system information when requesting help.
  </p>
</div>

<div class="cta-container">
  <a href="#" class="btn btn-secondary">📞 Contact Technical Support</a>
</div>

<hr class="divider">

<div class="info-box info-box-warning">
  <h3 style="margin-top: 0;">🤖 Automated Alert Notice</h3>
  <p style="margin-bottom: 0;">
    This is an automated system alert generated by {{ project_name }}. Please do not reply to this email. 
    All responses should be handled through the admin panel or by contacting the technical support team directly.
  </p>
</div>

<div class="security-badge">
  Automated System Alert
</div>

<p>
  <strong>{{ project_name }} System Monitoring</strong><br>
  Automated Alert Service
</p>
{% endblock %}
