<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeoForge Component Playground</title>
    <link rel="stylesheet" href="./styles/advanced-playground.css">
</head>
<body>
    <div id="playground-app">
        <!-- Navigation Sidebar -->
        <aside class="component-nav">
            <header class="nav-header">
                <h1>Components</h1>
                <div class="search-box">
                    <input type="text" id="component-search" placeholder="Search components...">
                </div>
            </header>
            
            <nav class="component-tree" id="component-tree">
                <!-- Will be populated by JavaScript -->
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="playground-content">
            <!-- Toolbar -->
            <header class="playground-toolbar">
                <div class="component-info">
                    <h2 id="current-component-title">Select a Component</h2>
                    <p id="current-component-description">Choose a component from the sidebar to begin testing</p>
                </div>
                
                <div class="toolbar-actions">
                    <button id="build-app-button" class="tool-button tool-button-success" title="Generate production application from selected components">
                        üöÄ Build App
                    </button>
                    <button id="generate-component-button" class="tool-button tool-button-primary" title="Generate New Component">
                        üß© Generate
                    </button>
                    <button id="toggle-props-panel" class="tool-button" title="Toggle Properties Panel">
                        ‚öôÔ∏è Props
                    </button>
                    <button id="toggle-code-view" class="tool-button" title="Toggle Code View">
                        üìÑ Code
                    </button>
                    <button id="responsive-toggle" class="tool-button" title="Responsive Testing">
                        üì± Responsive
                    </button>
                    <button id="analytics-toggle" class="tool-button" title="Analytics Dashboard">
                        üìä Analytics
                    </button>
                </div>
            </header>

            <!-- Component Display Area -->
            <div class="playground-layout">
                <!-- Component Examples -->
                <section class="component-showcase" id="component-showcase">
                    <div class="welcome-message">
                        <h3>üé™ Welcome to the Native Web Components Playground</h3>
                        <p>Select a component from the sidebar to see live examples with interactive controls.</p>
                        <p><strong>Available Components:</strong></p>
                        <ul>
                            <li>‚úÖ Button - All variants and states</li>
                            <li>‚úÖ Text Input - Form component with validation</li>
                            <li>‚úÖ Icon - Interface icons and graphics</li>
                            <li>‚úÖ Badge - Status and notification displays</li>
                            <li>‚úÖ Checkbox - Boolean input controls</li>
                        </ul>
                    </div>
                </section>

                <!-- Properties Panel -->
                <aside class="props-panel" id="props-panel">
                    <h3>Properties</h3>
                    <div id="props-editor-container">
                        <p>Select a component to configure its properties</p>
                    </div>
                </aside>
            </div>

            <!-- Code View Panel (Hidden by default) -->
            <section class="code-panel" id="code-panel" style="display: none;">
                <h3>Generated Code</h3>
                <div class="code-tabs">
                    <button class="tab-button active" data-tab="html">HTML</button>
                    <button class="tab-button" data-tab="lit">Lit Template</button>
                    <button class="tab-button" data-tab="react">React JSX</button>
                </div>
                <div class="code-content">
                    <pre id="generated-code"><code>// Select a component to see generated code</code></pre>
                </div>
            </section>

            <!-- Responsive Testing Panel -->
            <section class="responsive-panel" id="responsive-panel" style="display: none;">
                <h3>Responsive Testing</h3>
                <div class="viewport-controls">
                    <button class="viewport-btn" data-width="375" data-height="667">üì± Mobile</button>
                    <button class="viewport-btn" data-width="768" data-height="1024">üì± Tablet</button>
                    <button class="viewport-btn" data-width="1200" data-height="800">üíª Desktop</button>
                    <button class="viewport-btn" data-width="100%" data-height="100%">üñ•Ô∏è Full</button>
                </div>
            </section>

            <!-- Analytics Dashboard Panel -->
            <section class="analytics-panel" id="analytics-panel" style="display: none;">
                <playground-analytics id="playground-analytics"></playground-analytics>
            </section>

            <!-- Application Integration Panel -->
            <section class="app-integration-panel" id="app-integration-panel" style="display: none;">
                <div class="panel-header">
                    <h2>üöÄ Build Production App</h2>
                    <button class="close-panel-btn" id="close-app-panel">‚úï</button>
                </div>
                
                <div class="workflow-container">
                    <!-- Workflow Progress -->
                    <div class="workflow-progress">
                        <div class="workflow-step active" data-step="1">
                            <div class="step-number">1</div>
                            <div class="step-label">Select Components</div>
                        </div>
                        <div class="workflow-step" data-step="2">
                            <div class="step-number">2</div>
                            <div class="step-label">Choose Template</div>
                        </div>
                        <div class="workflow-step" data-step="3">
                            <div class="step-number">3</div>
                            <div class="step-label">Configure App</div>
                        </div>
                        <div class="workflow-step" data-step="4">
                            <div class="step-number">4</div>
                            <div class="step-label">Generate & Deploy</div>
                        </div>
                    </div>

                    <!-- Step Content -->
                    <div class="workflow-content">
                        <!-- Step 1: Component Selection -->
                        <div class="workflow-step-content active" data-step="1">
                            <h3>Select Components for Your App</h3>
                            <div id="component-selection" class="component-selection">
                                <!-- Will be populated by JavaScript -->
                            </div>
                            <div id="app-preview" class="app-preview">
                                <p>Selected components will appear here...</p>
                            </div>
                            <div id="validation-results" class="validation-results"></div>
                        </div>

                        <!-- Step 2: Template Selection -->
                        <div class="workflow-step-content" data-step="2">
                            <h3>Choose Application Template</h3>
                            <div id="template-selection" class="template-selection">
                                <div class="template-option" data-template="dashboard-app">
                                    <h4>üìä Dashboard App</h4>
                                    <p>Admin dashboard with tables and forms</p>
                                </div>
                                <div class="template-option" data-template="marketing-site">
                                    <h4>üåê Marketing Site</h4>
                                    <p>Marketing website with landing pages</p>
                                </div>
                                <div class="template-option" data-template="saas-app">
                                    <h4>üíº SaaS App</h4>
                                    <p>SaaS application with auth and billing</p>
                                </div>
                                <div class="template-option" data-template="minimal-app">
                                    <h4>‚ö° Minimal App</h4>
                                    <p>Minimal starting point with essential components</p>
                                </div>
                            </div>
                            <div id="template-preview" class="template-preview">
                                <p>Select a template to see preview...</p>
                            </div>
                            <div id="component-recommendations" class="component-recommendations">
                                <h4>Recommended Components</h4>
                                <p>Choose a template to see recommendations</p>
                            </div>
                        </div>

                        <!-- Step 3: App Configuration -->
                        <div class="workflow-step-content" data-step="3">
                            <h3>Configure Your Application</h3>
                            <form id="app-config-form" class="app-config-form">
                                <div class="form-group">
                                    <label for="app-name">Application Name</label>
                                    <input type="text" id="app-name" name="appName" placeholder="My Awesome App" required>
                                    <div class="config-error" style="display: none;"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label>Features</label>
                                    <div class="checkbox-group">
                                        <label class="checkbox-label">
                                            <input type="checkbox" class="feature-checkbox" name="routing" value="routing">
                                            <span>Client-side Routing</span>
                                        </label>
                                        <label class="checkbox-label">
                                            <input type="checkbox" class="feature-checkbox" name="responsive" value="responsive" checked>
                                            <span>Responsive Design</span>
                                        </label>
                                        <label class="checkbox-label">
                                            <input type="checkbox" class="feature-checkbox" name="auth" value="auth">
                                            <span>Authentication</span>
                                        </label>
                                    </div>
                                </div>
                            </form>
                            
                            <div id="config-preview" class="config-preview">
                                <h4>Configuration Preview</h4>
                                <pre id="config-preview-content">{}</pre>
                            </div>
                        </div>

                        <!-- Step 4: Generation & Deployment -->
                        <div class="workflow-step-content" data-step="4">
                            <h3>Generate & Deploy Your App</h3>
                            
                            <div class="generation-section">
                                <button id="generate-app-button" class="btn btn-primary" disabled>
                                    Generate Application
                                </button>
                                <div id="generation-progress" class="progress-indicator" style="display: none;">
                                    <div class="progress-bar"></div>
                                    <div class="progress-text">Generating your application...</div>
                                </div>
                            </div>

                            <div id="download-section" class="download-section" style="display: none;">
                                <h4>Your App is Ready!</h4>
                                <div class="action-buttons">
                                    <button id="download-app-button" class="btn btn-success">
                                        üì• Download ZIP
                                    </button>
                                    <button id="copy-code-button" class="btn btn-secondary">
                                        üìã Copy Code
                                    </button>
                                    <button id="deploy-app-button" class="btn btn-primary">
                                        üöÄ Deploy Now
                                    </button>
                                </div>
                            </div>

                            <!-- Performance Validation -->
                            <div class="performance-section">
                                <button id="validate-performance-button" class="btn btn-outline">
                                    ‚ö° Validate Performance
                                </button>
                                <div id="performance-validation-panel" class="validation-panel" style="display: none;">
                                    <h4>Performance Validation Results</h4>
                                    <div id="performance-results"></div>
                                </div>
                            </div>

                            <!-- Deployment Options -->
                            <div id="deployment-options" class="deployment-options" style="display: none;">
                                <h4>Choose Deployment Platform</h4>
                                <div class="deployment-grid">
                                    <div class="deployment-option" data-platform="vercel">
                                        <h5>‚ñ≤ Vercel</h5>
                                        <p>Zero configuration deployment</p>
                                    </div>
                                    <div class="deployment-option" data-platform="netlify">
                                        <h5>üåê Netlify</h5>
                                        <p>Drag-and-drop or Git deployment</p>
                                    </div>
                                    <div class="deployment-option" data-platform="github-pages">
                                        <h5>üìÑ GitHub Pages</h5>
                                        <p>Deploy with GitHub Actions</p>
                                    </div>
                                    <div class="deployment-option" data-platform="docker">
                                        <h5>üê≥ Docker</h5>
                                        <p>Containerized deployment</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Navigation -->
                    <div class="workflow-navigation">
                        <button id="prev-step-button" class="btn btn-secondary" disabled>
                            ‚Üê Previous
                        </button>
                        <button id="next-step-button" class="btn btn-primary" disabled>
                            Next ‚Üí
                        </button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Component Generator Modal -->
    <component-generator-modal id="component-generator-modal"></component-generator-modal>

    <!-- Import playground modules -->
    <script type="module" src="./core/component-loader.js"></script>
    <script type="module" src="./core/prop-editor.js"></script>
    <script type="module" src="./utils/story-extractor.js"></script>
    <script type="module" src="./core/keyboard-navigation.js"></script>
    <script type="module" src="./core/smart-search.js"></script>
    <script type="module" src="./core/session-memory.js"></script>
    <script type="module" src="./core/performance-optimizer.js"></script>
    <script type="module" src="./components/component-generator-modal.js"></script>
    
    <!-- Design System Integration -->
    <script type="module" src="../components/tokens/token-system.js"></script>
    <script type="module" src="../components/theme/theme-manager.js"></script>
    <script type="module" src="../components/design/design-integration.js"></script>
    <script type="module" src="./components/design-system-panel.js"></script>
    
    <!-- Analytics and Main App -->
    <script type="module" src="../components/analytics/chart-visualizations.js"></script>
    <script type="module" src="../components/analytics/playground-analytics.js"></script>
    <script type="module" src="./advanced-playground.js"></script>
</body>
</html>